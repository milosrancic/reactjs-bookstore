(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(68)},36:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);a(35),a(36);var n=a(0),o=a.n(n),l=a(23),c=a.n(l),r=a(8),i=a(14),m=a(32),s=a(24),u=a(25),f=a(31),d=a(26),E=a(33),p=a(27),b=a.n(p),h=a(6),v=(a(59),a(60),a(28)),k=a.n(v),g=(a(61),function(e){return o.a.createElement("nav",{id:"navbar",className:"container-fluid mb-5 p-0"},o.a.createElement("ul",{className:"nav justify-content-center flex-column flex-sm-row\n"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(r.b,{to:"/",className:"nav-link"},o.a.createElement("p",{className:"title-p"},"books"))),o.a.createElement("li",{className:"nav-item"},o.a.createElement("form",{onSubmit:e.onFormSubmit,className:"form-inline justify-content-center"},o.a.createElement("input",{value:e.value,onChange:e.onInputChange,className:"form-control form-control-sm mr-3 w-75",type:"text",placeholder:"Search for book","aria-label":"Search",required:!0}),o.a.createElement("button",{type:"submit",className:"btn btn-sm btn-outline-info"},o.a.createElement("i",{className:"fas fa-search","aria-hidden":"true"})))),o.a.createElement("li",{className:"nav-item"},o.a.createElement(r.b,{to:"/cart",className:"nav-link"},o.a.createElement("i",{className:"fas fa-shopping-cart"})))))}),N=(a(66),function(e){return o.a.createElement("div",{className:"container",id:"cart"},o.a.createElement("h3",null,"Cart"),o.a.createElement("ol",null,e.selectedBook.map(function(t,a){return o.a.createElement("li",{key:a},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col text-left"},o.a.createElement("span",{className:"mr-3"},t.volumeInfo.title.length>50?"".concat(t.volumeInfo.title.slice(0,50),"..."):t.volumeInfo.title),o.a.createElement("span",{className:"float-right ml-3"},"$",t.price," ",o.a.createElement("span",{className:"delete-cart-item",onClick:function(){return e.onClick(t,a)}},"x")," ")," ")))})),e.totalCart>0&&0!==e.totalCart?o.a.createElement("div",{className:"float-right"},o.a.createElement("p",{className:"total-parapraph"},o.a.createElement("small",null,"total: "),o.a.createElement("strong",null,"$",e.totalCart)),o.a.createElement("p",null,o.a.createElement("button",{type:"button",className:"btn btn-outline-info ",onClick:function(){return alert("Thanks for buying! :)")}},"Proceed to checkout"))):o.a.createElement("h5",{className:"mt-5"},"Your cart is empty! :("))}),C=(a(67),function(e){return o.a.createElement("div",{id:"book"},o.a.createElement("div",{className:"row"},o.a.createElement("ul",null,e.books.map(function(t,a){return o.a.createElement("li",{key:a},o.a.createElement("div",{className:"row row-book"},o.a.createElement("div",{className:"col-sm text-center"},o.a.createElement("h4",null,t.volumeInfo.title.length>50?"".concat(t.volumeInfo.title.slice(0,50),"..."):t.volumeInfo.title),o.a.createElement("p",null,t.volumeInfo.authors?1===t.volumeInfo.authors.length?"author: ".concat(t.volumeInfo.authors):"authors: ".concat(t.volumeInfo.authors):""),o.a.createElement("p",null,o.a.createElement("small",null,t.volumeInfo.pageCount?"pages: ".concat(t.volumeInfo.pageCount):"")),o.a.createElement("p",{className:"text-center"},o.a.createElement("span",null,"$",t.price),o.a.createElement("button",{onClick:function(){return e.onClick(t,a)},className:"btn btn-sm btn-outline-info m-3 buy-btn"},"buy"))),o.a.createElement("div",{className:"col-sm col-img"},o.a.createElement("img",{className:"img-fluid",alt:t.volumeInfo.title,src:t.volumeInfo.imageLinks?"".concat(t.volumeInfo.imageLinks.thumbnail):""})),o.a.createElement("div",{className:"col-sm "},o.a.createElement("p",null,t.volumeInfo.description?t.volumeInfo.description.length>310?"".concat(t.volumeInfo.description.slice(0,310),"..."):t.volumeInfo.description.slice(0,310):" "),t.volumeInfo.description?o.a.createElement("p",{className:"text-center"},o.a.createElement("a",{href:"".concat(t.volumeInfo.infoLink),target:"_blank",rel:"noopener noreferrer",className:"more-info-link text-center"},"more info ",o.a.createElement("i",{className:"fas fa-external-link-alt"}))):"")))}))))}),I=function(e){return o.a.createElement("div",{className:"book-list"},e.books.length>0?o.a.createElement(C,{books:e.books,onClick:e.onClick}):o.a.createElement("h5",null,"Please search for some book(s)"))},w="https://www.googleapis.com/books/v1/volumes?q=",y="&key=AIzaSyCwQ3rWMLHOvgw4dwdmhPOXP5XyIeQBOuI",O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(f.a)(this,Object(d.a)(t).call(this,e))).getRandomPrices=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},a.onTermSubmit=function(e){a.setState({loading:!0},function(){b.a.get("".concat(w).concat(e).concat(y)).then(function(e){var t=e.data.items;t=t.map(function(e){return Object(m.a)({},e,{price:a.getRandomPrices(3,17)})}),a.setState({loading:!1,books:t})}).catch(function(e){console.log(e)})})},a.onInputChange=function(e){a.setState({term:e.target.value})},a.onFormSubmit=function(e){e.preventDefault(),a.onTermSubmit(a.state.term)},a.handleAddToCart=function(e){a.addNotification(),a.setState(function(t){return{totalCart:t.totalCart+e.price,selectedBook:[].concat(Object(i.a)(t.selectedBook),[e])}})},a.handleDeleteCartItem=function(e,t){var n=Object(i.a)(a.state.selectedBook);n.splice(t,1),a.setState(function(t){return{totalCart:t.totalCart-e.price,selectedBook:n}})},a.addNotification=function(){a.notificationDOMRef.current.addNotification({message:"Book is added to cart!",type:"info",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1500},dismissable:{click:!0,touch:!0},isMobile:!0})},a.state={loading:!1,books:[],term:"",totalCart:0,selectedBook:[]},a.notificationDOMRef=o.a.createRef(),a}return Object(E.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"app container text-center"},o.a.createElement("div",{className:"row align-items-center"},o.a.createElement(k.a,{ref:this.notificationDOMRef}),o.a.createElement(g,{value:this.state.term,onFormSubmit:this.onFormSubmit,onInputChange:this.onInputChange})),o.a.createElement(h.c,null,this.state.loading?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"loading-container"},o.a.createElement("i",{className:"fa fa-spinner fa-spin"})," Loading...")):o.a.createElement(h.a,{exact:!0,path:"/reactjs-bookstore/",render:function(t){return o.a.createElement(I,{books:e.state.books,onClick:e.handleAddToCart})}}),o.a.createElement(h.a,{path:"/reactjs-bookstore/cart",render:function(t){return o.a.createElement(N,{totalCart:e.state.totalCart,selectedBook:e.state.selectedBook,onClick:e.handleDeleteCartItem})}})))}}]),t}(o.a.Component);c.a.render(o.a.createElement(r.a,null,o.a.createElement(O,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.a5abf123.chunk.js.map